<div align="center">
  <h1>
    <img src="./img/logo.png" alt="logo" width="100"> 42LineCounter
  </h1>
</div>

<br>
<br>

A simple **Visual Studio Code extension** that automatically counts the number of lines in **C functions** and inserts a comment above each function with the line count. 😸

<br>

### 👀 Like this:

```C
// »»-----► Number of lines: 1
void square(int *x) {
    *x = (*x) * (*x);
}
```


<br>
<br>

### Usage 🛸

The extension provides **two commands**:

<br>

#### ✅ Adding line counters:

- **42 Line Counter**: Adds line count comments above each function
  - Press **`Ctrl + Alt + C`** (Windows/Linux)
  - Press **`Ctrl+ Cmd + C`** (Mac)

<br>

#### ❌ Removing line counters:

- **42 Line Remove**: Removes all previously added line count comments
  - Press **`Ctrl + Alt + F`** (Windows/Linus)
  - Press **`Ctrl + Cmd + F`** (Mac)



<br>



<br>

### Demo 🎥

![Demo](https://raw.githubusercontent.com/nicolasboggio/42-line-counter/refs/heads/main/img/demo.gif)

<br>





---

<br>


### Supported Languages 🌐

>**C** files (`.c`)

<br><br>

### Features 🛰️

<br>

* 📏 Counts lines inside **C** functions
* 💬 Writes a comment containing the number of lines
* ❌ Excludes the opening **`{`** and closing **`}`** braces from the count
* 🧹 Remove feature: Clean up all line count comments

<br>

⚠️ 

**Note**: 
- Counts empty lines within functions
- Does **not** count comment lines

⚠️

<br>

---

<br>


### ☄️ Installation

<br>

### 📕From the VS Code Marketplace
- Open **Extensions** in VS Code
- Search for **42LineCounter**
- Click **Install**

<br>

### 📘 Using a `.vsix` file

- Download the `.vsix` file from [Github](https://github.com/nicolasboggio/42-line-counter)
- In VS Code, press **`Ctrl + Shift + P`** (Windows/Linux) or **`Cmd + Shift + P`** (Mac)
- Type **"Extensions: Install from VSIX..."**
- Choose the downloaded `.vsix` file



<br>

---

<br>










### Project Structure

```
.
├── 42-line-counter-0.0.2.vsix      # Packaged VS Code extension file (installable)
├── CHANGELOG.md                    # Log of changes and version history
├── eslint.config.mjs               # ESLint configuration for linting code
├── img                             # Images used in README, marketplace, or UI
│   ├── demo.gif                    # Demo animation/GIF showing extension usage
│   ├── logo.png                    # Main logo for the extension
│   └── logo_.png                   # Alternative/variant of the logo
├── out                             # Compiled JavaScript output (from TypeScript)
│   ├── extension.js                # Compiled main extension entry file
│   ├── extension.js.map            # Source map for debugging extension.js
│   ├── formatters                  # Compiled formatter utilities
│   │   ├── functionFormatter.js    # Compiled function formatter logic
│   │   └── functionFormatter.js.map # Source map for functionFormatter.js
│   └── test                        # Compiled test files
│       ├── extension.test.js       # Compiled extension tests
│       └── extension.test.js.map   # Source map for extension.test.js
├── package.json                    # Project metadata & dependencies for VS Code extension
├── package-lock.json               # Exact dependency tree (auto-generated by npm)
├── README.md                       # Documentation and usage instructions
├── src                             # Source TypeScript code (before compilation)
│   ├── extension.ts                # Main entry point for the extension
│   ├── formatters                  # Formatter-related logic (TypeScript source)
│   │   └── functionFormatter.ts    # Function formatting logic in TS
│   └── test                        # Test files (TypeScript source)
│       └── extension.test.ts       # Tests for the extension
├── tsconfig.json                   # TypeScript compiler configuration
└── vsc-extension-quickstart.md     # Auto-generated guide for creating extensions

```

<br>

---

<br>

## ⭐ Configuration and Customization


<br>


### 🚨 After Making Changes

1. **Install dependencies**: `npm install`
2. **Recompile**: `npm run compile`
4. **Package extension**: `vsce package`
5. **Install the generated**: `.vsix` file


<br>

---

<br>


### Renaming Commands

If you want to modify the command names that appear in the VSCode command palette, you need to edit the `package.json` file.




####  ⚙️ File to modify: `package.json`

Find the `contributes.commands` section:

```json
{
  "contributes": {
    "commands": [
      {
        "command": "42-line-counter.countLines",
        "title": "42 Line Counter"           ← Modify this title
      },
      {
        "command": "42-line-counter.removeComments", 
        "title": "42 Line Remove"            ← Modify this title
      }
    ]
  }
}
```

> Examples : For shorter names

```json
{
  "commands": [
    {
      "command": "42-line-counter.countLines",
      "title": "Line Count"
    },
    {
      "command": "42-line-counter.removeComments",
      "title": "Remove Count"
    }
  ]
}
```

<br>


> 🚨 **Important note**: Only the `package.json` file should be modified to rename commands. 

> The TypeScript code in `extension.ts` uses command identifiers (`42-line-counter.countLines` and `42-line-counter.removeComments`) which should NOT be changed.


<br>

---

<br>


### 🖍️ Customizing Comment Prefix

If you want to change the appearance of the comment prefix `'// »»-----►'`, you need to modify the `extension.ts` file.

<br>

#### File to modify: `src/extension.ts`

```
.
├── src
    └── extension.ts  <--- HERE
```

<br>

Find and modify :


```typescript
const commentPrefix = '// »»-----►';    ← Change this line
```

And also update :


```typescript
return trimmed.startsWith('// »»-----►');    ← Change this line too
```

<br>
<br>

#### Examples 

```typescript
const commentPrefix = '// [LINE COUNT]';
```
```typescript
return trimmed.startsWith('// [LINE COUNT]');
```

<br>

🚨 **Important**: Both lines must use the **exact same prefix** for the remove function to work properly!  🚨 


<br>
<br>

### 📜 License

<br>

- This project is licensed under the **MIT License**.
- See [MIT License](https://opensource.org/licenses/MIT) for details.

<br>
<br>

### Changelog 📝

<br>

**v0.0.1** - Initial release : **August 20, 2025**
**v0.0.2** - Initial release : **August 21, 2025**